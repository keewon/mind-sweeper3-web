const I18N = {
  _lang: 'ko',
  _strings: {
    en: {
      title: 'Minesweeper in the Dark',
      modeNormal: 'Normal Mode',
      modeNormalDesc: 'Full board always visible',
      modeFog3x3: '3Ã—3 Vision Mode',
      modeFog3x3Desc: 'Only 3Ã—3 area around selection visible',
      modeFog1: '1-Cell Vision Mode',
      modeFog1Desc: 'Only the selected cell is visible',
      modeSelectLabel: 'Select game mode',
      backLabel: 'Back to menu',
      mineLabel: 'Remaining mines',
      timerLabel: 'Elapsed time',
      restartLabel: 'Restart',
      boardLabel: 'Minesweeper board',
      themeLabel: 'Change theme',
      themeDark: 'Dark Mode',
      themeLight: 'Light Mode',
      langLabel: 'Language',
      selectCell: 'Select a cell',
      selection: 'Selected',
      open: 'Open',
      sweep: 'Sweep',
      mark: 'Flag',
      unmark: 'Unflag',
      endHint: 'â†» Restart / â† Menu',
      headerWin: 'ðŸŽ‰ Victory!',
      headerLose: 'ðŸ’¥ Game Over',
      cellFlag: 'ðŸš© Flag',
      cellHidden: '? Unknown',
      cellMine: 'ðŸ’£ Mine!',
      cellEmpty: 'Empty',
      cellQuestion: '? Maybe',
      cellAria: 'Row {r}, Col {c}, {state}',
      ariaHidden: 'unknown',
      ariaQuestion: 'maybe',
      ariaMine: 'mine',
      ariaEmpty: 'empty',
      ariaFlag: 'flag',
      helpLabel: 'Help',
      helpTitle: 'Controls',
      helpSelect: 'Tap / Click â†’ Select cell',
      helpOpen: 'Long press / D â†’ Open / Sweep',
      helpMark: 'Right-click / F â†’ Toggle flag',
      helpNav: 'â†‘â†“â†â†’ / HJKL â†’ Navigate',
      helpBtnTitle: 'Buttons',
      helpBtnOpen: 'Open â€” Reveal a hidden cell',
      helpBtnSweep: 'Sweep â€” Open neighbors when flags match the number',
      helpBtnMark: 'Flag â€” Toggle mine flag',
      helpBtnQuestion: '? â€” Mark as uncertain',
      menuHelpName: 'Controls',
      menuHelpDesc: 'Keyboard / Mouse / Touch controls',
      soundLabel: 'Sound effects',
      soundOn: 'Sound ON',
      soundOff: 'Sound OFF',
    },
    ja: {
      title: 'é—‡ã®ä¸­ã®ãƒžã‚¤ãƒ³ã‚¹ã‚¤ãƒ¼ãƒ‘ãƒ¼',
      modeNormal: 'ãƒŽãƒ¼ãƒžãƒ«ãƒ¢ãƒ¼ãƒ‰',
      modeNormalDesc: 'ãƒœãƒ¼ãƒ‰å…¨ä½“ãŒå¸¸ã«è¡¨ç¤ºã•ã‚Œã¾ã™',
      modeFog3x3: '3Ã—3è¦–é‡Žãƒ¢ãƒ¼ãƒ‰',
      modeFog3x3Desc: 'é¸æŠžãƒžã‚¹ã®å‘¨å›²3Ã—3ã®ã¿è¡¨ç¤º',
      modeFog1: '1ãƒžã‚¹è¦–é‡Žãƒ¢ãƒ¼ãƒ‰',
      modeFog1Desc: 'é¸æŠžã—ãŸãƒžã‚¹ã®ã¿è¡¨ç¤º',
      modeSelectLabel: 'ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰é¸æŠž',
      backLabel: 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹',
      mineLabel: 'æ®‹ã‚Šåœ°é›·æ•°',
      timerLabel: 'çµŒéŽæ™‚é–“',
      restartLabel: 'ã‚„ã‚Šç›´ã™',
      boardLabel: 'ãƒžã‚¤ãƒ³ã‚¹ã‚¤ãƒ¼ãƒ‘ãƒ¼ãƒœãƒ¼ãƒ‰',
      themeLabel: 'ãƒ†ãƒ¼ãƒžå¤‰æ›´',
      themeDark: 'ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰',
      themeLight: 'ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰',
      langLabel: 'è¨€èªž',
      selectCell: 'ãƒžã‚¹ã‚’é¸æŠžã—ã¦ãã ã•ã„',
      selection: 'é¸æŠž',
      open: 'Open',
      sweep: 'Sweep',
      mark: 'Flag',
      unmark: 'Unflag',
      endHint: 'â†» ã‚„ã‚Šç›´ã™ / â† ãƒ¡ãƒ‹ãƒ¥ãƒ¼',
      headerWin: 'ðŸŽ‰ ã‚¯ãƒªã‚¢ï¼',
      headerLose: 'ðŸ’¥ ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼',
      cellFlag: 'ðŸš© ãƒ•ãƒ©ã‚°',
      cellHidden: '? æœªç¢ºèª',
      cellMine: 'ðŸ’£ åœ°é›·ï¼',
      cellEmpty: 'ç©º',
      cellQuestion: '? ä¸æ˜Ž',
      cellAria: '{r}è¡Œ{c}åˆ—ã€{state}',
      ariaHidden: 'æœªç¢ºèª',
      ariaQuestion: 'ä¸æ˜Ž',
      ariaMine: 'åœ°é›·',
      ariaEmpty: 'ç©º',
      ariaFlag: 'ãƒ•ãƒ©ã‚°',
      helpLabel: 'ãƒ˜ãƒ«ãƒ—',
      helpTitle: 'æ“ä½œæ–¹æ³•',
      helpSelect: 'ã‚¿ãƒƒãƒ— / ã‚¯ãƒªãƒƒã‚¯ â†’ ãƒžã‚¹ã‚’é¸æŠž',
      helpOpen: 'é•·æŠ¼ã— / D â†’ é–‹ã / æŽƒé™¤',
      helpMark: 'å³ã‚¯ãƒªãƒƒã‚¯ / F â†’ ãƒ•ãƒ©ã‚°åˆ‡æ›¿',
      helpNav: 'â†‘â†“â†â†’ / HJKL â†’ ç§»å‹•',
      helpBtnTitle: 'ãƒœã‚¿ãƒ³',
      helpBtnOpen: 'Open â€” ãƒžã‚¹ã‚’é–‹ã',
      helpBtnSweep: 'Sweep â€” ãƒ•ãƒ©ã‚°æ•°ãŒä¸€è‡´ã—ãŸã‚‰å‘¨å›²ã‚’é–‹ã',
      helpBtnMark: 'Flag â€” åœ°é›·ãƒ•ãƒ©ã‚°ã®åˆ‡æ›¿',
      helpBtnQuestion: '? â€” ä¸ç¢ºã‹ãªãƒžã‚¹ã‚’è¨˜éŒ²',
      menuHelpName: 'æ“ä½œæ–¹æ³•',
      menuHelpDesc: 'ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ / ãƒžã‚¦ã‚¹ / ã‚¿ãƒƒãƒæ“ä½œã®èª¬æ˜Ž',
      soundLabel: 'åŠ¹æžœéŸ³',
      soundOn: 'åŠ¹æžœéŸ³ ON',
      soundOff: 'åŠ¹æžœéŸ³ OFF',
    },
    fr: {
      title: 'DÃ©mineur dans le noir',
      modeNormal: 'Mode Normal',
      modeNormalDesc: 'Plateau entiÃ¨rement visible',
      modeFog3x3: 'Mode Vision 3Ã—3',
      modeFog3x3Desc: 'Seule la zone 3Ã—3 autour de la sÃ©lection est visible',
      modeFog1: 'Mode Vision 1 case',
      modeFog1Desc: 'Seule la case sÃ©lectionnÃ©e est visible',
      modeSelectLabel: 'Choisir le mode de jeu',
      backLabel: 'Retour au menu',
      mineLabel: 'Mines restantes',
      timerLabel: 'Temps Ã©coulÃ©',
      restartLabel: 'Recommencer',
      boardLabel: 'Plateau de dÃ©mineur',
      themeLabel: 'Changer le thÃ¨me',
      themeDark: 'Mode Sombre',
      themeLight: 'Mode Clair',
      langLabel: 'Langue',
      selectCell: 'SÃ©lectionnez une case',
      selection: 'SÃ©lection',
      open: 'Ouvrir',
      sweep: 'Balayer',
      mark: 'Marquer',
      unmark: 'DÃ©marquer',
      endHint: 'â†» Recommencer / â† Menu',
      headerWin: 'ðŸŽ‰ Victoire !',
      headerLose: 'ðŸ’¥ Perdu',
      cellFlag: 'ðŸš© Drapeau',
      cellHidden: '? Inconnu',
      cellMine: 'ðŸ’£ Mine !',
      cellEmpty: 'Vide',
      cellQuestion: '? Peut-Ãªtre',
      cellAria: 'Ligne {r}, Colonne {c}, {state}',
      ariaHidden: 'inconnu',
      ariaQuestion: 'peut-Ãªtre',
      ariaMine: 'mine',
      ariaEmpty: 'vide',
      ariaFlag: 'drapeau',
      helpLabel: 'Aide',
      helpTitle: 'Commandes',
      helpSelect: 'Tap / Clic â†’ SÃ©lectionner',
      helpOpen: 'Appui long / D â†’ Ouvrir / Balayer',
      helpMark: 'Clic droit / F â†’ Drapeau',
      helpNav: 'â†‘â†“â†â†’ / HJKL â†’ Naviguer',
      helpBtnTitle: 'Boutons',
      helpBtnOpen: 'Ouvrir â€” RÃ©vÃ©ler une case',
      helpBtnSweep: 'Balayer â€” Ouvrir autour si drapeaux = nombre',
      helpBtnMark: 'Marquer â€” Basculer le drapeau',
      helpBtnQuestion: '? â€” Marquer comme incertain',
      menuHelpName: 'Commandes',
      menuHelpDesc: 'Clavier / Souris / ContrÃ´les tactiles',
      soundLabel: 'Effets sonores',
      soundOn: 'Son ON',
      soundOff: 'Son OFF',
    },
    zh: {
      title: 'é»‘æš—ä¸­çš„æ‰«é›·',
      modeNormal: 'æ™®é€šæ¨¡å¼',
      modeNormalDesc: 'å§‹ç»ˆæ˜¾ç¤ºæ•´ä¸ªæ£‹ç›˜',
      modeFog3x3: '3Ã—3è§†é‡Žæ¨¡å¼',
      modeFog3x3Desc: 'ä»…æ˜¾ç¤ºæ‰€é€‰æ ¼å­å‘¨å›´3Ã—3åŒºåŸŸ',
      modeFog1: 'å•æ ¼è§†é‡Žæ¨¡å¼',
      modeFog1Desc: 'ä»…æ˜¾ç¤ºæ‰€é€‰çš„ä¸€ä¸ªæ ¼å­',
      modeSelectLabel: 'é€‰æ‹©æ¸¸æˆæ¨¡å¼',
      backLabel: 'è¿”å›žèœå•',
      mineLabel: 'å‰©ä½™åœ°é›·æ•°',
      timerLabel: 'å·²ç”¨æ—¶é—´',
      restartLabel: 'é‡æ–°å¼€å§‹',
      boardLabel: 'æ‰«é›·æ£‹ç›˜',
      themeLabel: 'åˆ‡æ¢ä¸»é¢˜',
      themeDark: 'æ·±è‰²æ¨¡å¼',
      themeLight: 'æµ…è‰²æ¨¡å¼',
      langLabel: 'è¯­è¨€',
      selectCell: 'è¯·é€‰æ‹©ä¸€ä¸ªæ ¼å­',
      selection: 'å·²é€‰',
      open: 'æ‰“å¼€',
      sweep: 'æ‰«é™¤',
      mark: 'æ ‡è®°',
      unmark: 'å–æ¶ˆæ ‡è®°',
      endHint: 'â†» é‡æ–°å¼€å§‹ / â† èœå•',
      headerWin: 'ðŸŽ‰ èƒœåˆ©ï¼',
      headerLose: 'ðŸ’¥ æ¸¸æˆç»“æŸ',
      cellFlag: 'ðŸš© æ——å¸œ',
      cellHidden: '? æœªçŸ¥',
      cellMine: 'ðŸ’£ åœ°é›·ï¼',
      cellEmpty: 'ç©º',
      cellQuestion: '? å¯èƒ½',
      cellAria: 'ç¬¬{r}è¡Œç¬¬{c}åˆ—ï¼Œ{state}',
      ariaHidden: 'æœªçŸ¥',
      ariaQuestion: 'å¯èƒ½',
      ariaMine: 'åœ°é›·',
      ariaEmpty: 'ç©º',
      ariaFlag: 'æ——å¸œ',
      helpLabel: 'å¸®åŠ©',
      helpTitle: 'æ“ä½œè¯´æ˜Ž',
      helpSelect: 'ç‚¹å‡» â†’ é€‰æ‹©æ ¼å­',
      helpOpen: 'é•¿æŒ‰ / D â†’ æ‰“å¼€ / æ‰«é™¤',
      helpMark: 'å³é”® / F â†’ åˆ‡æ¢æ——å¸œ',
      helpNav: 'â†‘â†“â†â†’ / HJKL â†’ ç§»åŠ¨',
      helpBtnTitle: 'æŒ‰é’®',
      helpBtnOpen: 'æ‰“å¼€ â€” æ­ç¤ºéšè—çš„æ ¼å­',
      helpBtnSweep: 'æ‰«é™¤ â€” æ——å¸œæ•°åŒ¹é…æ—¶æ‰“å¼€å‘¨å›´æ ¼å­',
      helpBtnMark: 'æ ‡è®° â€” åˆ‡æ¢åœ°é›·æ——å¸œ',
      helpBtnQuestion: '? â€” æ ‡è®°ä¸ºä¸ç¡®å®š',
      menuHelpName: 'æ“ä½œè¯´æ˜Ž',
      menuHelpDesc: 'é”®ç›˜ / é¼ æ ‡ / è§¦å±æ“ä½œè¯´æ˜Ž',
      soundLabel: 'éŸ³æ•ˆ',
      soundOn: 'éŸ³æ•ˆ ON',
      soundOff: 'éŸ³æ•ˆ OFF',
    },
    es: {
      title: 'Buscaminas en la oscuridad',
      modeNormal: 'Modo Normal',
      modeNormalDesc: 'Tablero completo siempre visible',
      modeFog3x3: 'Modo VisiÃ³n 3Ã—3',
      modeFog3x3Desc: 'Solo visible el Ã¡rea 3Ã—3 alrededor',
      modeFog1: 'Modo VisiÃ³n 1 celda',
      modeFog1Desc: 'Solo visible la celda seleccionada',
      modeSelectLabel: 'Seleccionar modo de juego',
      backLabel: 'Volver al menÃº',
      mineLabel: 'Minas restantes',
      timerLabel: 'Tiempo transcurrido',
      restartLabel: 'Reiniciar',
      boardLabel: 'Tablero de buscaminas',
      themeLabel: 'Cambiar tema',
      themeDark: 'Modo Oscuro',
      themeLight: 'Modo Claro',
      langLabel: 'Idioma',
      selectCell: 'Selecciona una celda',
      selection: 'SelecciÃ³n',
      open: 'Abrir',
      sweep: 'Barrer',
      mark: 'Marcar',
      unmark: 'Desmarcar',
      endHint: 'â†» Reiniciar / â† MenÃº',
      headerWin: 'ðŸŽ‰ Â¡Victoria!',
      headerLose: 'ðŸ’¥ Fin del juego',
      cellFlag: 'ðŸš© Bandera',
      cellHidden: '? Desconocido',
      cellMine: 'ðŸ’£ Â¡Mina!',
      cellEmpty: 'VacÃ­o',
      cellQuestion: '? QuizÃ¡s',
      cellAria: 'Fila {r}, Columna {c}, {state}',
      ariaHidden: 'desconocido',
      ariaQuestion: 'quizÃ¡s',
      ariaMine: 'mina',
      ariaEmpty: 'vacÃ­o',
      ariaFlag: 'bandera',
      helpLabel: 'Ayuda',
      helpTitle: 'Controles',
      helpSelect: 'Tap / Clic â†’ Seleccionar celda',
      helpOpen: 'PulsaciÃ³n larga / D â†’ Abrir / Barrer',
      helpMark: 'Clic derecho / F â†’ Bandera',
      helpNav: 'â†‘â†“â†â†’ / HJKL â†’ Navegar',
      helpBtnTitle: 'Botones',
      helpBtnOpen: 'Abrir â€” Revelar celda oculta',
      helpBtnSweep: 'Barrer â€” Abrir alrededor si banderas = nÃºmero',
      helpBtnMark: 'Marcar â€” Alternar bandera',
      helpBtnQuestion: '? â€” Marcar como incierto',
      menuHelpName: 'Controles',
      menuHelpDesc: 'Teclado / RatÃ³n / Controles tÃ¡ctiles',
      soundLabel: 'Efectos de sonido',
      soundOn: 'Sonido ON',
      soundOff: 'Sonido OFF',
    },
    vi: {
      title: 'DÃ² mÃ¬n trong bÃ³ng tá»‘i',
      modeNormal: 'Cháº¿ Ä‘á»™ ThÆ°á»ng',
      modeNormalDesc: 'ToÃ n bá»™ báº£ng luÃ´n hiá»ƒn thá»‹',
      modeFog3x3: 'Táº§m nhÃ¬n 3Ã—3',
      modeFog3x3Desc: 'Chá»‰ hiá»ƒn thá»‹ vÃ¹ng 3Ã—3 quanh Ã´ Ä‘Æ°á»£c chá»n',
      modeFog1: 'Táº§m nhÃ¬n 1 Ã´',
      modeFog1Desc: 'Chá»‰ hiá»ƒn thá»‹ Ã´ Ä‘Æ°á»£c chá»n',
      modeSelectLabel: 'Chá»n cháº¿ Ä‘á»™ chÆ¡i',
      backLabel: 'Quay láº¡i menu',
      mineLabel: 'Sá»‘ mÃ¬n cÃ²n láº¡i',
      timerLabel: 'Thá»i gian',
      restartLabel: 'ChÆ¡i láº¡i',
      boardLabel: 'Báº£ng dÃ² mÃ¬n',
      themeLabel: 'Äá»•i giao diá»‡n',
      themeDark: 'Giao diá»‡n Tá»‘i',
      themeLight: 'Giao diá»‡n SÃ¡ng',
      langLabel: 'NgÃ´n ngá»¯',
      selectCell: 'Chá»n má»™t Ã´',
      selection: 'ÄÃ£ chá»n',
      open: 'Má»Ÿ',
      sweep: 'QuÃ©t',
      mark: 'ÄÃ¡nh dáº¥u',
      unmark: 'Bá» dáº¥u',
      endHint: 'â†» ChÆ¡i láº¡i / â† Menu',
      headerWin: 'ðŸŽ‰ Chiáº¿n tháº¯ng!',
      headerLose: 'ðŸ’¥ Thua cuá»™c',
      cellFlag: 'ðŸš© Cá»',
      cellHidden: '? ChÆ°a má»Ÿ',
      cellMine: 'ðŸ’£ MÃ¬n!',
      cellEmpty: 'Trá»‘ng',
      cellQuestion: '? CÃ³ thá»ƒ',
      cellAria: 'HÃ ng {r}, Cá»™t {c}, {state}',
      ariaHidden: 'chÆ°a má»Ÿ',
      ariaQuestion: 'cÃ³ thá»ƒ',
      ariaMine: 'mÃ¬n',
      ariaEmpty: 'trá»‘ng',
      ariaFlag: 'cá»',
      helpLabel: 'Trá»£ giÃºp',
      helpTitle: 'Äiá»u khiá»ƒn',
      helpSelect: 'Cháº¡m / Nháº¥p â†’ Chá»n Ã´',
      helpOpen: 'Nháº¥n giá»¯ / D â†’ Má»Ÿ / QuÃ©t',
      helpMark: 'Nháº¥p pháº£i / F â†’ Cá» Ä‘Ã¡nh dáº¥u',
      helpNav: 'â†‘â†“â†â†’ / HJKL â†’ Di chuyá»ƒn',
      helpBtnTitle: 'NÃºt',
      helpBtnOpen: 'Má»Ÿ â€” Má»Ÿ Ã´ áº©n',
      helpBtnSweep: 'QuÃ©t â€” Má»Ÿ xung quanh khi cá» khá»›p sá»‘',
      helpBtnMark: 'ÄÃ¡nh dáº¥u â€” Báº­t/táº¯t cá» mÃ¬n',
      helpBtnQuestion: '? â€” ÄÃ¡nh dáº¥u chÆ°a cháº¯c cháº¯n',
      menuHelpName: 'Äiá»u khiá»ƒn',
      menuHelpDesc: 'BÃ n phÃ­m / Chuá»™t / Cáº£m á»©ng',
      soundLabel: 'Hiá»‡u á»©ng Ã¢m thanh',
      soundOn: 'Ã‚m thanh ON',
      soundOff: 'Ã‚m thanh OFF',
    },
    ko: {
      title: 'ì–´ë‘  ì†ì˜ ì§€ë¢°ì°¾ê¸°',
      modeNormal: 'ì¼ë°˜ ëª¨ë“œ',
      modeNormalDesc: 'ì „ì²´ ë³´ë“œê°€ í•­ìƒ ë³´ìž…ë‹ˆë‹¤',
      modeFog3x3: '3Ã—3 ì‹œì•¼ ëª¨ë“œ',
      modeFog3x3Desc: 'ì„ íƒí•œ ì¹¸ ì£¼ë³€ 3Ã—3ë§Œ ë³´ìž…ë‹ˆë‹¤',
      modeFog1: '1ì¹¸ ì‹œì•¼ ëª¨ë“œ',
      modeFog1Desc: 'ë°©ê¸ˆ ì„ íƒí•œ ì¹¸ 1ê°œë§Œ ë³´ìž…ë‹ˆë‹¤',
      modeSelectLabel: 'ê²Œìž„ ëª¨ë“œ ì„ íƒ',
      backLabel: 'ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°',
      mineLabel: 'ë‚¨ì€ ì§€ë¢° ìˆ˜',
      timerLabel: 'ê²½ê³¼ ì‹œê°„',
      restartLabel: 'ë‹¤ì‹œí•˜ê¸°',
      boardLabel: 'ì§€ë¢°ì°¾ê¸° ë³´ë“œ',
      themeLabel: 'í…Œë§ˆ ë³€ê²½',
      themeDark: 'ë‹¤í¬ ëª¨ë“œ',
      themeLight: 'ë¼ì´íŠ¸ ëª¨ë“œ',
      langLabel: 'ì–¸ì–´',
      selectCell: 'ì¹¸ì„ ì„ íƒí•˜ì„¸ìš”',
      selection: 'ì„ íƒ',
      open: 'Open',
      sweep: 'Sweep',
      mark: 'Flag',
      unmark: 'Unflag',
      endHint: 'â†» ë‹¤ì‹œí•˜ê¸° / â† ë©”ë‰´ë¡œ',
      headerWin: 'ðŸŽ‰ ìŠ¹ë¦¬!',
      headerLose: 'ðŸ’¥ ê²Œìž„ ì˜¤ë²„',
      cellFlag: 'ðŸš© ê¹ƒë°œ',
      cellHidden: '? ë¯¸í™•ì¸',
      cellMine: 'ðŸ’£ ì§€ë¢°!',
      cellEmpty: 'ë¹ˆ ì¹¸',
      cellQuestion: '? ì˜ì‹¬',
      cellAria: '{r}í–‰ {c}ì—´, {state}',
      ariaHidden: 'ë¯¸í™•ì¸',
      ariaQuestion: 'ì˜ì‹¬',
      ariaMine: 'ì§€ë¢°',
      ariaEmpty: 'ë¹ˆ ì¹¸',
      ariaFlag: 'ê¹ƒë°œ',
      helpLabel: 'ë„ì›€ë§',
      helpTitle: 'ì¡°ìž‘ ë°©ë²•',
      helpSelect: 'íƒ­ / í´ë¦­ â†’ ì¹¸ ì„ íƒ',
      helpOpen: 'ê¸¸ê²Œ ëˆ„ë¥´ê¸° / D â†’ ì—´ê¸° / Sweep',
      helpMark: 'ìš°í´ë¦­ / F â†’ ê¹ƒë°œ í† ê¸€',
      helpNav: 'â†‘â†“â†â†’ / HJKL â†’ ì´ë™',
      helpBtnTitle: 'ë²„íŠ¼ ì„¤ëª…',
      helpBtnOpen: 'Open â€” ìˆ¨ê²¨ì§„ ì¹¸ ì—´ê¸°',
      helpBtnSweep: 'Sweep â€” ê¹ƒë°œ ìˆ˜ê°€ ìˆ«ìžì™€ ê°™ìœ¼ë©´ ì£¼ë³€ ì—´ê¸°',
      helpBtnMark: 'Flag â€” ì§€ë¢° ê¹ƒë°œ í† ê¸€',
      helpBtnQuestion: '? â€” ë¶ˆí™•ì‹¤í•œ ì¹¸ í‘œì‹œ',
      menuHelpName: 'ì¡°ìž‘ ë°©ë²•',
      menuHelpDesc: 'í‚¤ë³´ë“œ / ë§ˆìš°ìŠ¤ / í„°ì¹˜ ì¡°ìž‘ ì„¤ëª…',
      soundLabel: 'íš¨ê³¼ìŒ ì„¤ì •',
      soundOn: 'íš¨ê³¼ìŒ ON',
      soundOff: 'íš¨ê³¼ìŒ OFF',
    },
  },
};

function t(key) {
  return I18N._strings[I18N._lang]?.[key] || I18N._strings['en'][key] || key;
}

function tCellAria(r, c, state) {
  return t('cellAria').replace('{r}', r).replace('{c}', c).replace('{state}', state);
}

function setLang(lang) {
  if (!I18N._strings[lang]) lang = 'en';
  I18N._lang = lang;
  document.documentElement.lang = lang === 'zh' ? 'zh-CN' : lang;
  localStorage.setItem('ms3-lang', lang);
  applyStaticTranslations();
}

function applyStaticTranslations() {
  // Menu screen
  const menuTitle = document.getElementById('menu-title');
  if (menuTitle) menuTitle.textContent = t('title');

  const modeNames = document.querySelectorAll('.mode-btn .mode-name');
  const modeDescs = document.querySelectorAll('.mode-btn .mode-desc');
  const modeKeys = ['modeNormal', 'modeFog3x3', 'modeFog1'];
  const modeDescKeys = ['modeNormalDesc', 'modeFog3x3Desc', 'modeFog1Desc'];
  modeNames.forEach((el, i) => { el.textContent = t(modeKeys[i]); });
  modeDescs.forEach((el, i) => { el.textContent = t(modeDescKeys[i]); });

  const modeNav = document.querySelector('.mode-list');
  if (modeNav) modeNav.setAttribute('aria-label', t('modeSelectLabel'));

  const menuHelpName = document.getElementById('menuHelpName');
  if (menuHelpName) menuHelpName.textContent = t('menuHelpName');
  const menuHelpDesc = document.getElementById('menuHelpDesc');
  if (menuHelpDesc) menuHelpDesc.textContent = t('menuHelpDesc');

  // Game screen aria labels
  const btnBack = document.getElementById('btn-back');
  if (btnBack) btnBack.setAttribute('aria-label', t('backLabel'));

  const mineCount = document.getElementById('mine-count');
  if (mineCount) mineCount.setAttribute('aria-label', t('mineLabel'));

  const timer = document.getElementById('timer');
  if (timer) timer.setAttribute('aria-label', t('timerLabel'));

  const btnRestart = document.getElementById('btn-restart');
  if (btnRestart) btnRestart.setAttribute('aria-label', t('restartLabel'));

  const btnHelp = document.getElementById('btn-help');
  if (btnHelp) btnHelp.setAttribute('aria-label', t('helpLabel'));

  const boardContainer = document.getElementById('board-container');
  if (boardContainer) boardContainer.setAttribute('aria-label', t('boardLabel'));

  // Header banners
  const headerLose = document.getElementById('header-lose');
  if (headerLose) headerLose.textContent = t('headerLose');

  // Theme toggle
  const themeToggle = document.getElementById('theme-toggle');
  if (themeToggle) themeToggle.setAttribute('aria-label', t('themeLabel'));

  // Sound toggle
  const soundToggle = document.getElementById('sound-toggle');
  if (soundToggle) soundToggle.setAttribute('aria-label', t('soundLabel'));

  // Lang select
  const langLabel = document.getElementById('lang-label');
  if (langLabel) langLabel.textContent = t('langLabel');

  // Help screen
  const helpTitle = document.getElementById('help-title');
  if (helpTitle) helpTitle.textContent = t('helpTitle');

  const helpKeys = [
    'helpSelect', 'helpOpen', 'helpMark', 'helpNav',
    'helpBtnTitle', 'helpBtnOpen', 'helpBtnSweep', 'helpBtnMark', 'helpBtnQuestion',
  ];
  helpKeys.forEach(key => {
    const el = document.getElementById(key);
    if (el) el.textContent = t(key);
  });
}
